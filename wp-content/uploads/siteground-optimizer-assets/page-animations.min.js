var PageTransitions=function(a,l){"use strict";var d=a(".subpages"),b=!1,c=!1,i={WebkitAnimation:'webkitAnimationEnd',OAnimation:'oAnimationEnd',msAnimation:'MSAnimationEnd',animation:'animationend'},e=i[Modernizr.prefixed('animation')],h=Modernizr.cssanimations;function j(){return location.hash===""?location.hash=a('section.pt-page').first().attr('data-id'):location.hash.split('/')[0]}function f(c){if(!c)return!1;var b=a(c);b=b[0],b=a(b.parentNode),b&&(a('ul.site-auto-menu li').removeClass('active'),b.addClass('active'))}function g(r,k){var m=a('.site-auto-menu'),i,p,d,f,l,n,o,q,g,j;if(m.attr('data-animation')?(i=m.data('animation').toString()):(i=parseInt(Math.floor(Math.random()*67)+1).toString()),p=a('.site-auto-menu a'),p.attr('data-animation')?(i=p.data('animation').toString()):(i=parseInt(Math.floor(Math.random()*67)+1).toString()),i.indexOf('-')!=-1?(n=i.split('-'),l=parseInt(n[Math.floor(Math.random()*n.length)])):l=parseInt(i),l>67)return alert("Transition.js : Invalid 'data-animation' attribute configuration. Animation number should not be greater than 67"),!1;switch(l){case 1:d='pt-page-moveFromRight',f='pt-page-moveToLeft';break;case 2:d='pt-page-moveFromLeft',f='pt-page-moveToRight';break;case 3:d='pt-page-moveFromBottom',f='pt-page-moveToTop';break;case 4:d='pt-page-moveFromTop',f='pt-page-moveToBottom';break;case 5:d='pt-page-moveFromRight pt-page-ontop',f='pt-page-fade';break;case 6:d='pt-page-moveFromLeft pt-page-ontop',f='pt-page-fade';break;case 7:d='pt-page-moveFromBottom pt-page-ontop',f='pt-page-fade';break;case 8:d='pt-page-moveFromTop pt-page-ontop',f='pt-page-fade';break;case 9:d='pt-page-moveFromRightFade',f='pt-page-moveToLeftFade';break;case 10:d='pt-page-moveFromLeftFade',f='pt-page-moveToRightFade';break;case 11:d='pt-page-moveFromBottomFade',f='pt-page-moveToTopFade';break;case 12:d='pt-page-moveFromTopFade',f='pt-page-moveToBottomFade';break;case 13:d='pt-page-moveFromRight',f='pt-page-moveToLeftEasing pt-page-ontop';break;case 14:d='pt-page-moveFromLeft',f='pt-page-moveToRightEasing pt-page-ontop';break;case 15:d='pt-page-moveFromBottom',f='pt-page-moveToTopEasing pt-page-ontop';break;case 16:d='pt-page-moveFromTop',f='pt-page-moveToBottomEasing pt-page-ontop';break;case 17:d='pt-page-moveFromRight pt-page-ontop',f='pt-page-scaleDown';break;case 18:d='pt-page-moveFromLeft pt-page-ontop',f='pt-page-scaleDown';break;case 19:d='pt-page-moveFromBottom pt-page-ontop',f='pt-page-scaleDown';break;case 20:d='pt-page-moveFromTop pt-page-ontop',f='pt-page-scaleDown';break;case 21:d='pt-page-scaleUpDown pt-page-delay300',f='pt-page-scaleDown';break;case 22:d='pt-page-scaleUp pt-page-delay300',f='pt-page-scaleDownUp';break;case 23:d='pt-page-scaleUp',f='pt-page-moveToLeft pt-page-ontop';break;case 24:d='pt-page-scaleUp',f='pt-page-moveToRight pt-page-ontop';break;case 25:d='pt-page-scaleUp',f='pt-page-moveToTop pt-page-ontop';break;case 26:d='pt-page-scaleUp',f='pt-page-moveToBottom pt-page-ontop';break;case 27:d='pt-page-scaleUpCenter pt-page-delay400',f='pt-page-scaleDownCenter';break;case 28:d='pt-page-moveFromRight pt-page-delay200 pt-page-ontop',f='pt-page-rotateRightSideFirst';break;case 29:d='pt-page-moveFromLeft pt-page-delay200 pt-page-ontop',f='pt-page-rotateLeftSideFirst';break;case 30:d='pt-page-moveFromTop pt-page-delay200 pt-page-ontop',f='pt-page-rotateTopSideFirst';break;case 31:d='pt-page-moveFromBottom pt-page-delay200 pt-page-ontop',f='pt-page-rotateBottomSideFirst';break;case 32:d='pt-page-flipInLeft pt-page-delay500',f='pt-page-flipOutRight';break;case 33:d='pt-page-flipInRight pt-page-delay500',f='pt-page-flipOutLeft';break;case 34:d='pt-page-flipInBottom pt-page-delay500',f='pt-page-flipOutTop';break;case 35:d='pt-page-flipInTop pt-page-delay500',f='pt-page-flipOutBottom';break;case 36:d='pt-page-scaleUp',f='pt-page-rotateFall pt-page-ontop';break;case 37:d='pt-page-rotateInNewspaper pt-page-delay500',f='pt-page-rotateOutNewspaper';break;case 38:d='pt-page-moveFromRight',f='pt-page-rotatePushLeft';break;case 39:d='pt-page-moveFromLeft',f='pt-page-rotatePushRight';break;case 40:d='pt-page-moveFromBottom',f='pt-page-rotatePushTop';break;case 41:d='pt-page-moveFromTop',f='pt-page-rotatePushBottom';break;case 42:d='pt-page-rotatePullRight pt-page-delay180',f='pt-page-rotatePushLeft';break;case 43:d='pt-page-rotatePullLeft pt-page-delay180',f='pt-page-rotatePushRight';break;case 44:d='pt-page-rotatePullBottom pt-page-delay180',f='pt-page-rotatePushTop';break;case 45:d='pt-page-rotatePullTop pt-page-delay180',f='pt-page-rotatePushBottom';break;case 46:d='pt-page-moveFromRightFade',f='pt-page-rotateFoldLeft';break;case 47:d='pt-page-moveFromLeftFade',f='pt-page-rotateFoldRight';break;case 48:d='pt-page-moveFromBottomFade',f='pt-page-rotateFoldTop';break;case 49:d='pt-page-moveFromTopFade',f='pt-page-rotateFoldBottom';break;case 50:d='pt-page-rotateUnfoldLeft',f='pt-page-moveToRightFade';break;case 51:d='pt-page-rotateUnfoldRight',f='pt-page-moveToLeftFade';break;case 52:d='pt-page-rotateUnfoldTop',f='pt-page-moveToBottomFade';break;case 53:d='pt-page-rotateUnfoldBottom',f='pt-page-moveToTopFade';break;case 54:d='pt-page-rotateRoomLeftIn',f='pt-page-rotateRoomLeftOut pt-page-ontop';break;case 55:d='pt-page-rotateRoomRightIn',f='pt-page-rotateRoomRightOut pt-page-ontop';break;case 56:d='pt-page-rotateRoomTopIn',f='pt-page-rotateRoomTopOut pt-page-ontop';break;case 57:d='pt-page-rotateRoomBottomIn',f='pt-page-rotateRoomBottomOut pt-page-ontop';break;case 58:d='pt-page-rotateCubeLeftIn',f='pt-page-rotateCubeLeftOut pt-page-ontop';break;case 59:d='pt-page-rotateCubeRightIn',f='pt-page-rotateCubeRightOut pt-page-ontop';break;case 60:d='pt-page-rotateCubeTopIn',f='pt-page-rotateCubeTopOut pt-page-ontop';break;case 61:d='pt-page-rotateCubeBottomIn',f='pt-page-rotateCubeBottomOut pt-page-ontop';break;case 62:d='pt-page-rotateCarouselLeftIn',f='pt-page-rotateCarouselLeftOut pt-page-ontop';break;case 63:d='pt-page-rotateCarouselRightIn',f='pt-page-rotateCarouselRightOut pt-page-ontop';break;case 64:d='pt-page-rotateCarouselTopIn',f='pt-page-rotateCarouselTopOut pt-page-ontop';break;case 65:d='pt-page-rotateCarouselBottomIn',f='pt-page-rotateCarouselBottomOut pt-page-ontop';break;case 66:d='pt-page-rotateSidesIn pt-page-delay200',f='pt-page-rotateSidesOut';break;case 67:d='pt-page-rotateSlideIn',f='pt-page-rotateSlideOut';break}o=a('section.pt-page-current').attr('data-id'),q=r.attr('href').split("#"),k=q[1],o!=k?(g=a('section[data-id="'+o+'"]'),g.length&&(b=!0),c=!0,g.removeClass('pt-page-relative'),j=a('section[data-id='+k+']').addClass('pt-page-current'),j.scrollTop(0),a('.site-main').scrollTop(0),g.addClass(f).on(e,function(){b=!1,g.attr('class',g.data('originalClassList')),g.off(e)}),j.addClass(d).on(e,function(){c=!1,j.attr('class',j.data('originalClassList')+' pt-page-current pt-page-relative'),j.off(e)})):(b=!1,c=!1),h||onEndAnimation(g,j)}function k(l){var e,h,i,k;a('.pt-page').each(function(){var b=a(this);b.data('originalClassList',b.attr('class'))}),d.hasClass('animated-sections')?(d.each(function(){location.hash===""&&a('section[data-id='+i+']').addClass('section-active')}),a('.nav-anim:not(.nav-custom)').on("click",function(e){if(e.preventDefault(),c||b)return!1;var d=a(this);f(d),g(d),location.hash=a(this).attr('href')})):(e="",a('.pt-wrapper').find('section.pt-page').each(function(){var b=a(this).attr('data-id'),d=a(this).attr('data-title'),c;b.length?(c='<li><a href="#'+b+'" class="pt-trigger">'+d+'</a></li>'):(c=''),e+=c,a('.site-auto-menu').html(e)}),a('.pt-trigger').click(function(){if(c||b)return!1;var d=a(this),e=a(this);f(e),g(d),history.pushState('','New URL: '+a(this).attr('href'),a(this).attr('href'))})),window.onpopstate=function(e){if(location.hash){if(c==!0||b==!0)return!1;var d=a(h+' a[href*="'+location.hash.split('/')[0]+'"]');f(d),g(d)}},h=l.menu,i=j(),location.hash=i,k=a(h+' a[href*="'+location.hash.split('/')[0]+'"]'),f(k),g(k),a(".lmpixels-arrow-right").click(function(){var b,c;d.hasClass('animated-sections')?(b=a('.main-menu li.active').closest(".menu-item-object-page"),c=a('.site-main-menu > .menu-item-object-page:not(.menu-item-has-children)'),b.nextAll(".site-main-menu > .menu-item-object-page:not(.menu-item-has-children)").children("a").click(),c.last().addClass("last-anim"),c.first().addClass("first-anim"),b.hasClass('last-anim')&&a('.main-menu .first-anim').children("a").click()):(b=a('.site-main-menu li.active'),b.next("li").children("a").click(),b.is(':last-child')&&a('.site-main-menu li:first-child').children("a").click())}),a(".lmpixels-arrow-left").click(function(){var b,c;d.hasClass('animated-sections')?(b=a('.main-menu li.active').closest(".menu-item-object-page"),c=a('.site-main-menu > .menu-item-object-page:not(.menu-item-has-children)'),b.prevAll(".site-main-menu > .menu-item-object-page:not(.menu-item-has-children)").children("a").click(),c.last().addClass("last-anim"),c.first().addClass("first-anim"),b.hasClass('first-anim')&&a('.main-menu .last-anim').children("a").click()):(b=a('.site-main-menu li.active'),b.prev("li").children("a").click(),b.is(':first-child')&&a('.site-main-menu li:last-child').children("a").click())})}return{init:k}}(jQuery)