(function(a){"use strict";var b=a('body');function c(){a('.portfolio-page-carousel').each(function(){var c=a("html").attr("dir"),b=!1;c=='rtl'?b=!0:b=!1,a(this).imagesLoaded(function(){a('.portfolio-page-carousel').owlCarousel({smartSpeed:1200,items:1,loop:!0,dots:!0,nav:!0,navText:!1,autoHeight:!0,margin:10,rtl:b})})})}function f(){var b=a('#page-ajax-loaded');function d(){b.removeClass('fadeOutLeft closed'),b.show(),a('body').addClass('ajax-page-visible')}function f(){a('#page-ajax-loaded').addClass('fadeOutLeft closed'),a('body').removeClass('ajax-page-visible'),setTimeout(function(){a('#page-ajax-loaded.closed').html(''),b.hide(),a('#page-ajax-loaded').append('<div class="preloader-portfolio"><div class="preloader-animation"><div class="preloader-spinner"></div></div></div></div>')},500)}a(document).on("click",".site-auto-menu, #portfolio-page-close-button",function(a){f()}).on("click",".ajax-page-load",function(){var f=a(this).attr('href')+'?ajax=true';return d(),b.load(f,function(){c();var b=a("#portfolio-gallery-grid");b.imagesLoaded(function(){b.masonry()}),a('.portfolio-page-wrapper .portfolio-grid').each(function(){a(this).magnificPopup({delegate:'a.gallery-lightbox',type:'image',gallery:{enabled:!0}})}),e()}),!1})}function d(){var c=a(window).width(),b=a('#site_header');c<992?(b.addClass('mobile-menu-hide'),setTimeout(function(){b.addClass('animate')},500)):b.removeClass('animate')}function e(){var b=a('.embed-youtube-video'),c=a('.embed-vimeo-video');b.each(function(){var c=a(this),b=a(this).attr('data-embed'),b=b.split('youtube.com/embed/')[1],d="//img.youtube.com/vi/"+b+"/0.jpg";a('<img width="100%" src="'+d+'" />').appendTo(a(this)),a(this).on("click","div.play-button",function(e){var d=a('<iframe class="embed-responsive-item" src="//www.youtube.com/embed/'+b+'?rel=0&showinfo=0&autoplay=1&output=embed" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');d.appendTo(c),a(this).hide()})}),c.each(function(){var c=a(this),b=a(this).attr('data-embed'),b=b.split('vimeo.com/video/')[1];a('<img class="vimeo-thumb" width="100%" src="" />').appendTo(a(this)),a.getJSON('https://www.vimeo.com/api/v2/video/'+b+'.json?callback=?',{format:"json"},function(a){c.children(".vimeo-thumb").attr('src',a[0].thumbnail_large)}),a(this).on("click","div.play-button",function(e){var d=a('<iframe class="embed-responsive-item" src="//player.vimeo.com/video/'+b+'?autoplay=1&loop=1&autopause=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');d.appendTo(c),a(this).hide()})})}a(function(){a('.contact-form').each(function(){var c=a(this).attr('id'),b=a('#'+c+'.contact-form');b.validator(),b.on('submit',function(c){if(!c.isDefaultPrevented())return a.ajax({type:"POST",url:ajaxurl,data:a(this).serialize()+'&action=kerge_contact_action',success:function(f){var d=JSON.parse(f),c='alert-'+d.type,e=d.message,g='<div class="alert '+c+' alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>'+e+'</div>';c&&e&&(b.find('.messages').html(g),c=="alert-success"&&a('.contact-form')[0].reset())}}),!1})})});function g(){a('.portfolio-content').each(function(){var f=a(this),c=a(this).attr('id'),b=a('#'+c+' .portfolio-grid'),d=a('#'+c+' .portfolio-filters'),e=a('#'+c+' .portfolio-filters .filter');b&&(b.shuffle({speed:450,itemSelector:'figure'}),a('.site-auto-menu').on("click","a",function(a){b.shuffle('update')}),d.on("click",".filter",function(c){b.shuffle('update'),c.preventDefault(),e.parent().removeClass('active'),a(this).parent().addClass('active'),b.shuffle('shuffle',a(this).attr('data-group'))}))})}a(window).on('load',function(){a(".preloader").fadeOut(800,"linear")}).on('resize',function(){d()}),a(document).on('ready',function(){var k=a("html").attr("dir"),h=!1,l,m,i,j;k=='rtl'?h=!0:h=!1,l=a('.subpages:not(.one-page-layout)'),l[0]&&PageTransitions.init({menu:'ul.site-auto-menu'}),b.stop().animate({scrollTop:0},500),m=a(".portfolio-grid"),i=a("#portfolio-gallery-grid"),i.imagesLoaded(function(){i.masonry()}),m.imagesLoaded(function(){g(this)}),c(),j=a(".blog-masonry"),j.imagesLoaded(function(){j.masonry({itemSelector:'.item',resize:!1})}),a('.menu-toggle').on("click",function(){a('#site_header').addClass('animate'),a('#site_header').toggleClass('mobile-menu-hide')}),a('.site-auto-menu').on("click",".menu-item:not('.menu-item-has-children') a",function(a){d()}),a('.text-rotation').owlCarousel({loop:!0,dots:!1,nav:!1,margin:10,rtl:h,items:1,autoplay:!0,autoplayHoverPause:!1,autoplayTimeout:3800,animateOut:'fadeOut',animateIn:'fadeIn'}),b.magnificPopup({fixedContentPos:!1,delegate:'a.lightbox',type:'image',removalDelay:300,mainClass:'mfp-fade',image:{titleSrc:'title',gallery:{enabled:!0}},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div class="mfp-title mfp-bottom-iframe-title"></div></div>',patterns:{youtube:{index:'youtube.com/',id:null,src:'%id%?autoplay=1'},vimeo:{index:'vimeo.com/',id:'/',src:'//player.vimeo.com/video/%id%?autoplay=1'},gmaps:{index:'//maps.google.',src:'%id%&output=embed'}},srcAction:'iframe_src'},callbacks:{markupParse:function(c,a,b){a.title=b.el.attr('title')}}}),a('.ajax-page-load-link').magnificPopup({type:'ajax',removalDelay:300,mainClass:'mfp-fade',gallery:{enabled:!0}}),a('.portfolio-page-wrapper .portfolio-grid').each(function(){a(this).magnificPopup({delegate:'a.gallery-lightbox',type:'image',gallery:{enabled:!0}})}),a('.form-control').val(''),a(".form-control").on("focusin",function(){a(this).parent('.form-group').addClass('form-group-focus')}),a(".form-control").on("focusout",function(){a(this).val().length===0&&a(this).parent('.form-group').removeClass('form-group-focus')}),a('body').append('<div id="page-ajax-loaded" class="page-portfolio-loaded animated fadeInLeft" style="display: none"><div class="preloader-portfolio"><div class="preloader-animation"><div class="preloader-spinner"></div></div></div></div>'),f(),a('.dl-menuwrapper').dlmenu(),a('.sidebar-toggle').on("click",function(){a('#blog-sidebar').toggleClass('open')}),e()})})(jQuery)